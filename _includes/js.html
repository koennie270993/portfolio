<!-- All JavaScript modules are bundled into bundle.js via webpack -->
<script>
// Diagnostic script to help debug path issues
console.log('Base URL: {{ site.baseurl }}');
console.log('Site URL: {{ site.url }}');
console.log('Loading bundle from: {{ site.baseurl }}/js/bundle.js');

// Attempt to load the bundle with fallbacks
function loadBundle() {
  const paths = [
    '{{ site.baseurl }}/js/bundle.js',
    '/portfolio/js/bundle.js',
    'https://koennie270993.github.io/portfolio/js/bundle.js'
  ];
  
  let loaded = false;
  
  function tryNextScript(index) {
    if (index >= paths.length) {
      console.error('Failed to load bundle from any path');
      return;
    }
    
    const script = document.createElement('script');
    script.src = paths[index];
    
    script.onload = function() {
      console.log('Successfully loaded bundle from:', paths[index]);
      loaded = true;
    };
    
    script.onerror = function() {
      console.warn('Failed to load bundle from:', paths[index]);
      tryNextScript(index + 1);
    };
    
    document.body.appendChild(script);
  }
  
  // Start trying paths
  tryNextScript(0);
}

// Load script after DOM is ready
if (document.readyState !== 'loading') {
  loadBundle();
} else {
  document.addEventListener('DOMContentLoaded', loadBundle);
}
</script>

{% if site.contact == "disqus" %}
<!-- Disqus Stuff -->
{% include js_disqus.html %}
{% endif %}
