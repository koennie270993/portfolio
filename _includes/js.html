<!-- All JavaScript modules are bundled into bundle.js via webpack -->
<script>
// Diagnostic script to help debug path issues
console.log('Base URL: {{ site.baseurl }}');
console.log('Site URL: {{ site.url }}');
console.log('Bundle path: {{ "/js/bundle.js" | prepend: site.baseurl }}');

// This function tries to load the bundle from various paths
function loadBundle() {
  var paths = [
    '{{ "/js/bundle.js" | prepend: site.baseurl }}',
    '{{ "/assets/js/bundle.js" | prepend: site.baseurl }}',
    '{{ "/_includes/js/bundle.js" | prepend: site.baseurl }}',
    '{{ site.baseurl }}/js/bundle.js'
  ];
  
  function tryNextPath(index) {
    if (index >= paths.length) {
      console.error('Failed to load bundle.js from any path');
      return;
    }
    
    var script = document.createElement('script');
    script.src = paths[index];
    script.onerror = function() {
      console.log('Failed to load from path: ' + paths[index]);
      tryNextPath(index + 1);
    };
    script.onload = function() {
      console.log('Successfully loaded bundle from: ' + paths[index]);
    };
    document.body.appendChild(script);
  }
  
  tryNextPath(0);
}

// Load the bundle after the page has loaded
window.addEventListener('load', loadBundle);
</script>

{% if site.contact == "disqus" %}
<!-- Disqus Stuff -->
{% include js_disqus.html %}
{% endif %}
